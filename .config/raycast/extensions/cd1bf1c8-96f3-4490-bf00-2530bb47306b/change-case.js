"use strict";var v=Object.defineProperty;var Ae=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var we=Object.prototype.hasOwnProperty;var Te=(t,e)=>{for(var s in e)v(t,s,{get:e[s],enumerable:!0})},be=(t,e,s,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Se(e))!we.call(t,o)&&o!==s&&v(t,o,{get:()=>e[o],enumerable:!(r=Ae(e,o))||r.enumerable});return t};var Le=t=>be(v({},"__esModule",{value:!0}),t);var He={};Te(He,{default:()=>xe});module.exports=Le(He);var n=require("@raycast/api"),m=require("react");var Pe=/([\p{Ll}\d])(\p{Lu})/gu,Re=/(\p{Lu})([\p{Lu}][\p{Ll}])/gu,ye=/(\d)\p{Ll}|(\p{L})\d/u,Ee=/[^\p{L}\d]+/giu,X="$1\0$2";function j(t){let e=t.trim();e=e.replace(Pe,X).replace(Re,X),e=e.replace(Ee,"\0");let s=0,r=e.length;for(;e.charAt(s)==="\0";)s++;if(s===r)return[];for(;e.charAt(r-1)==="\0";)r--;return e.slice(s,r).split(/\0/g)}function _e(t){let e=j(t);for(let s=0;s<e.length;s++){let r=e[s],o=ye.exec(r);if(o){let i=o.index+(o[1]??o[2]).length;e.splice(s,1,r.slice(0,i),r.slice(i))}}return e}function A(t,e){let[s,r,o]=P(t,e);return s+r.map(_(e?.locale)).join(e?.delimiter??" ")+o}function W(t,e){let[s,r,o]=P(t,e),i=_(e?.locale),C=k(e?.locale),d=e?.mergeAmbiguousCharacters?N(i,C):G(i,C);return s+r.map((u,h)=>h===0?i(u):d(u,h)).join(e?.delimiter??"")+o}function H(t,e){let[s,r,o]=P(t,e),i=_(e?.locale),C=k(e?.locale),d=e?.mergeAmbiguousCharacters?N(i,C):G(i,C);return s+r.map(d).join(e?.delimiter??"")+o}function J(t,e){return y(t,{delimiter:"_",...e})}function y(t,e){let[s,r,o]=P(t,e),i=_(e?.locale),C=k(e?.locale);return s+r.map(N(i,C)).join(e?.delimiter??" ")+o}function K(t,e){let[s,r,o]=P(t,e);return s+r.map(k(e?.locale)).join(e?.delimiter??"_")+o}function V(t,e){return A(t,{delimiter:".",...e})}function E(t,e){return A(t,{delimiter:"-",...e})}function B(t,e){return A(t,{delimiter:"/",...e})}function Q(t,e){return A(t,{delimiter:"_",...e})}function q(t,e){return y(t,{delimiter:"-",...e})}function _(t){return t===!1?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t)}function k(t){return t===!1?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t)}function N(t,e){return s=>`${e(s[0])}${t(s.slice(1))}`}function G(t,e){return(s,r)=>{let o=s[0];return(r>0&&o>="0"&&o<="9"?"_"+o:e(o))+t(s.slice(1))}}function P(t,e={}){let s=e.split??(e.separateNumbers?_e:j),r=e.prefixCharacters??"",o=e.suffixCharacters??"",i=0,C=t.length;for(;i<t.length;){let d=t.charAt(i);if(!r.includes(d))break;i++}for(;C>i;){let d=C-1,u=t.charAt(d);if(!o.includes(u))break;C=d}return[t.slice(0,i),s(t.slice(i,C)),t.slice(C)]}var M=require("@raycast/api");var ke=/(\S+)|(.)/g,Fe=/[\.#]\p{Alphabetic}/u,Ue=/\p{Ll}(?=[\p{Lu}])/u,Ie=/\p{Alphabetic}+/gu,Oe=/^(\P{Alphabetic})*(?:\p{Alphabetic}\.){2,}(\P{Alphabetic})*$/u,ve=new Set(["\u2014","\u2013","-","\u2015","/"]),Z=new Set([".","!","?"]),Ne=new Set([...Z,":",'"',"'","\u201D"]),D=new Set(["a","an","and","as","at","because","but","by","en","for","if","in","neither","nor","of","on","only","or","over","per","so","some","than","that","the","to","up","upon","v","versus","via","vs","when","with","without","yet"]);function ee(t,e={}){let{locale:s=void 0,sentenceCase:r=!1,sentenceTerminators:o=Z,titleTerminators:i=Ne,smallWords:C=D,wordSeparators:d=ve}=typeof e=="string"||Array.isArray(e)?{locale:e}:e,u=r?o:i,h="",f=!0;for(let b of t.matchAll(ke)){let{1:l,2:g,index:R=0}=b;if(g){h+=g;continue}if(Fe.test(l)){let S=l.match(Oe);if(S){let[T,x="",a=""]=S;h+=r&&!f?l:z(l,x.length,s),f=u.has(a.charAt(0));continue}h+=l,f=u.has(l.charAt(l.length-1))}else{let S=Array.from(l.matchAll(Ie)),T=l,x=!1;for(let a=0;a<S.length;a++){let{0:p,index:L=0}=S[a],w=l.charAt(L+p.length);if(x=u.has(w),f)f=!1;else{if(r||Ue.test(p))continue;if(S.length===1){if(C.has(p)&&!(R+l.length===t.length)&&!x)continue}else if(a>0&&(!d.has(l.charAt(L-1))||C.has(p)&&d.has(w)))continue}T=z(T,L,s)}h+=T,f=x||u.has(l.charAt(l.length-1))}}return h}function z(t,e,s){return t.slice(0,e)+t.charAt(e).toLocaleUpperCase(s)+t.slice(e+1)}function te(t,e){let s="";for(let r of t)s+=Math.random()>.5?r.toLocaleUpperCase(e):r.toLocaleLowerCase(e);return s}function ne(t,e){let s="";for(let r of t){let o=r.toLocaleLowerCase(e);s+=r===o?r.toLocaleUpperCase(e):o}return s}var se=(0,M.getPreferenceValues)();function re(t){return/\p{L}/u.test(t)}var ae=(t,e)=>te(t),oe=(t,e)=>ne(t),ce=(t,e)=>se.preservePunctuation?t.toLowerCase():A(t,e).toLowerCase(),ie=(t,e)=>{if(t.length<=1)return t.toLowerCase();let s="";for(let r=0;r<t.length;r++){if(re(t[r])){s+=t[r].toLowerCase();break}s+=t[r]}return s+t.slice(s.length)},le=(t,e)=>E(t,e).toUpperCase(),Ce=(t,e,s)=>{let r=(0,M.getPreferenceValues)().exceptions.split(",").map(i=>i.trim())??[],o=new Set([...r,...D]);return ee(t,{sentenceCase:e,smallWords:o})},pe=(t,e)=>Ce(t,!0,e),fe=(t,e)=>Ce(t,!1,e),ue=(t,e)=>se.preservePunctuation?t.toUpperCase():A(t,e).toUpperCase(),de=(t,e)=>{if(t.length<=1)return t.toUpperCase();let s="";for(let r=0;r<t.length;r++){if(re(t[r])){s+=t[r].toUpperCase();break}s+=t[r]}return s+t.slice(s.length)};var he=require("@raycast/api"),F={"Camel Case":W,"Capital Case":y,"Constant Case":K,"Dot Case":V,"Header Case":q,"Lower Case":ce,"Lower First":ie,"No Case":A,"Kebab Case":E,"Kebab Upper Case":le,"Pascal Case":H,"Pascal Snake Case":J,"Path Case":B,"Random Case":ae,"Sentence Case":pe,"Snake Case":Q,"Swap Case":oe,"Title Case":fe,"Upper Case":ue,"Upper First":de},et=Object.keys(F),me={"Header Case":["train","dash"],"No Case":["none"],"Kebab Case":["dash","slug","param"],"Random Case":["sponge"],"Swap Case":["reverse"],"Constant Case":["macro"]};function De(t,e){return e?t:t.toLowerCase()}function $(t,e){let s=(0,he.getPreferenceValues)();return F[e](De(t,s.preserveCase),{prefixCharacters:s.prefixCharacters,suffixCharacters:s.suffixCharacters})}function U(t,e){let s=[],r=[],o=t.split(`
`);for(let i of o){let C=$(i,e);s.push(C),r.push((C.length===0?"\u200B":C)+`
`)}return{rawText:s.join(`
`),markdown:r.join(`
`)}}var c=require("react/jsx-runtime"),I=class t extends Error{constructor(){super("No text"),Object.setPrototypeOf(this,t.prototype)}};async function Me(){try{return await(0,n.getSelectedText)()}catch{return""}}async function ge(t){let e=await n.Clipboard.readText(),s=await Me();if(t==="clipboard"){if(e)return e;if(s)return s}else{if(s)return s;if(e)return e}throw new I}var O=new n.Cache,$e=()=>{let t=O.get("pinned");return t?JSON.parse(t):[]},Xe=()=>{let t=O.get("recent");return t?JSON.parse(t):[]},je=t=>{O.set("pinned",JSON.stringify(t))},We=t=>{O.set("recent",JSON.stringify(t))};function xe(t){let e=(0,n.getPreferenceValues)(),s=e.source,r=e.action,o=e.hideHUD,i=t.launchContext?.case;if(i){(async()=>{let a=await ge(s),p=$(a,i);r==="paste"?n.Clipboard.paste(p):n.Clipboard.copy(p),o||(0,n.showHUD)(`Converted to ${i}`),(0,n.popToRoot)()})();return}let[C,d]=(0,m.useState)(""),[u,h]=(0,m.useState)(),[f,b]=(0,m.useState)([]),[l,g]=(0,m.useState)([]);(0,m.useEffect)(()=>{b($e()),g(Xe()),(0,n.getFrontmostApplication)().then(h)},[]),(0,m.useEffect)(()=>{je(f)},[f]),(0,m.useEffect)(()=>{We(l)},[l]);let R=async()=>{try{d(await ge(s))}catch(a){a instanceof I&&(0,n.showToast)({style:n.Toast.Style.Failure,title:"Nothing to convert",message:"Please ensure that text is either selected or copied"})}};(0,m.useEffect)(()=>{R()},[]);let S=a=>(0,c.jsx)(n.Action,{title:"Copy to Clipboard",icon:n.Icon.Clipboard,onAction:()=>{g([a.case,...l.filter(p=>p!==a.case)].slice(0,4+f.length)),o||(0,n.showHUD)("Copied to Clipboard"),n.Clipboard.copy(a.modified),e.popToRoot?(0,n.popToRoot)():(0,n.closeMainWindow)()}}),T=a=>u?(0,c.jsx)(n.Action,{title:`Paste in ${u.name}`,icon:{fileIcon:u.path},onAction:()=>{g([a.case,...l.filter(p=>p!==a.case)].slice(0,4+f.length)),o||(0,n.showHUD)(`Pasted in ${u.name}`),n.Clipboard.paste(a.modified),e.popToRoot?(0,n.popToRoot)():(0,n.closeMainWindow)()}}):null,x=a=>{let p=encodeURIComponent(`{"case":"${a.case}"}`),L=`raycast://extensions/erics118/${n.environment.extensionName}/${n.environment.commandName}?context=${p}`;return(0,c.jsx)(n.List.Item,{id:a.case,title:a.case,accessories:[{text:a.modified}],detail:(0,c.jsx)(n.List.Item.Detail,{markdown:a.detail}),keywords:me[a.case],actions:(0,c.jsxs)(n.ActionPanel,{children:[(0,c.jsxs)(n.ActionPanel.Section,{children:[r==="paste"&&(0,c.jsx)(T,{...a}),(0,c.jsx)(S,{...a}),r==="copy"&&(0,c.jsx)(T,{...a})]}),(0,c.jsxs)(n.ActionPanel.Section,{children:[a.pinned?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.Action,{title:"Remove Pinned Case",icon:n.Icon.PinDisabled,shortcut:n.Keyboard.Shortcut.Common.Remove,onAction:()=>{b(f.filter(w=>w!==a.case))}}),(0,c.jsx)(n.Action,{title:"Clear Pinned Cases",style:n.Action.Style.Destructive,icon:{source:n.Icon.XMarkCircle},shortcut:n.Keyboard.Shortcut.Common.RemoveAll,onAction:()=>{b([])}})]}):(0,c.jsx)(n.Action,{title:"Pin Case",icon:n.Icon.Pin,shortcut:n.Keyboard.Shortcut.Common.Pin,onAction:()=>{b([a.case,...f]),a.recent&&g(l.filter(w=>w!==a.case))}}),a.recent&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.Action,{title:"Remove Recent Case",icon:n.Icon.XMarkCircle,shortcut:n.Keyboard.Shortcut.Common.Remove,onAction:()=>{g(l.filter(w=>w!==a.case))}}),(0,c.jsx)(n.Action,{title:"Clear Recent Cases",icon:{source:n.Icon.XMarkCircle,tintColor:n.Color.Red},shortcut:n.Keyboard.Shortcut.Common.RemoveAll,onAction:()=>{g([])}})]}),(0,c.jsx)(n.Action.CreateQuicklink,{title:`Create Quicklink to Convert to ${a.case}`,quicklink:{name:`Convert to ${a.case}`,link:L}})]}),(0,c.jsx)(n.ActionPanel.Section,{children:(0,c.jsx)(n.Action,{title:"Refresh Content",icon:n.Icon.RotateAntiClockwise,shortcut:n.Keyboard.Shortcut.Common.Refresh,onAction:R})})]})})};return(0,c.jsxs)(n.List,{isShowingDetail:!0,isLoading:!f||!l,selectedItemId:l[0],children:[(0,c.jsx)(n.List.Section,{title:"Pinned",children:f?.map(a=>{let p=U(C,a);return(0,c.jsx)(x,{case:a,modified:p.rawText,detail:p.markdown,pinned:!0},a)})}),(0,c.jsx)(n.List.Section,{title:"Recent",children:l.filter(a=>!f.includes(a)).map(a=>{let p=U(C,a);return(0,c.jsx)(x,{case:a,modified:p.rawText,detail:p.markdown,recent:!0},a)})}),(0,c.jsx)(n.List.Section,{title:"All Cases",children:Object.keys(F).filter(a=>e[a.replace(/ +/g,"")]&&!l.includes(a)&&!f.includes(a)).map(a=>{let p=U(C,a);return(0,c.jsx)(x,{case:a,modified:p.rawText,detail:p.markdown},a)})})]})}
